# 18. ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…

## Actuator ì‚¬ìš©ë²•

**Spring Boot Actuator** ëŠ” **ìš´ì˜ í™˜ê²½ì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒíƒœë¥¼ ëª¨ë‹ˆí„°ë§í•˜ê³  ê´€ë¦¬í•˜ê¸° ìœ„í•œ ê¸°ëŠ¥**ì„ ì œê³µí•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë‹¤.

 âœ… Health Check
 âœ… Metrics ë…¸ì¶œ
 âœ… í™˜ê²½ ì •ë³´ í™•ì¸
 âœ… Bean ëª©ë¡ í™•ì¸
 âœ… Thread dump
 âœ… Application Info ë“±

ìš´ì˜ ì¤‘ì¸ ì„œë¹„ìŠ¤ì˜ **ìƒíƒœ ê°€ì‹œì„±(Observability)** í™•ë³´ë¥¼ ìœ„í•œ í•„ìˆ˜ ë„êµ¬ë¡œ í™œìš©ëœë‹¤.

------

### 1ï¸âƒ£ ê¸°ë³¸ êµ¬ì„±

#### ì˜ì¡´ì„± ì¶”ê°€

Gradle:

```
implementation 'org.springframework.boot:spring-boot-starter-actuator'
```

Maven:

```
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-actuator</artifactId>
</dependency>
```

------

### 2ï¸âƒ£ ê¸°ë³¸ Endpoint êµ¬ì„± ğŸ—‚ï¸

Spring Boot ActuatorëŠ” ë‹¤ì–‘í•œ Endpoint ë¥¼ ì œê³µí•œë‹¤.
 ëŒ€í‘œì ì¸ Endpoint ì˜ˆì‹œ:

| Endpoint               | ì„¤ëª…                     |
| ---------------------- | ------------------------ |
| `/actuator/health`     | Health check             |
| `/actuator/metrics`    | ë©”íŠ¸ë¦­ ë°ì´í„° ë…¸ì¶œ       |
| `/actuator/info`       | Application Info ë…¸ì¶œ    |
| `/actuator/env`        | í™˜ê²½ ë³€ìˆ˜ í™•ì¸           |
| `/actuator/beans`      | Bean ëª©ë¡ í™•ì¸           |
| `/actuator/threaddump` | Thread dump              |
| `/actuator/httptrace`  | HTTP ìš”ì²­ ì´ë ¥           |
| `/actuator/mappings`   | RequestMapping ì •ë³´ ë…¸ì¶œ |

------

### 3ï¸âƒ£ application.yml ê¸°ë³¸ ì„¤ì • ì˜ˆì‹œ

```
management:
  endpoints:
    web:
      exposure:
        include: '*'   # ëª¨ë“  Endpoint ë…¸ì¶œ (ìš´ì˜ì—ì„œëŠ” ì œí•œ ê¶Œì¥)
  endpoint:
    health:
      show-details: always  # Health ìƒì„¸ ì •ë³´ ë…¸ì¶œ
  info:
    env:
      enabled: true
```

#### ìš´ì˜ í™˜ê²½ Best Practice

```
exposure:
  include: health, info, prometheus  # í•„ìš”í•œ Endpointë§Œ ë…¸ì¶œ ê¶Œì¥
```

------

### 4ï¸âƒ£ ì£¼ìš” Endpoint ì‚¬ìš©ë²• ğŸš€

#### Health Check

```
GET /actuator/health
```

ì‘ë‹µ ì˜ˆì‹œ:

```
{
  "status": "UP"
}
```

- DB ì—°ê²° ë¬¸ì œ ë“± ë°œìƒ ì‹œ `DOWN`, `OUT_OF_SERVICE` ìƒíƒœ í™•ì¸ ê°€ëŠ¥.

------

#### Metrics

```
GET /actuator/metrics
```

ì‘ë‹µ ì˜ˆì‹œ:

```
{
  "names": [
    "jvm.memory.used",
    "jvm.memory.max",
    "http.server.requests",
    "process.cpu.usage",
    "system.cpu.usage",
    "logback.events"
  ]
}
```

#### íŠ¹ì • Metrics ì¡°íšŒ

```
GET /actuator/metrics/jvm.memory.used
```

------

#### Info

```
GET /actuator/info
```

- `application.yml` ì— info ê°’ ì¶”ê°€ ê°€ëŠ¥:

```
info:
  app:
    name: MyApp
    version: 1.0.0
```

------

#### Env

```
GET /actuator/env
```

- ì „ì²´ í™˜ê²½ ë³€ìˆ˜ í™•ì¸ ê°€ëŠ¥ â†’ ìš´ì˜ í™˜ê²½ì—ì„œëŠ” ì£¼ì˜ í•„ìš” âš ï¸.

------

#### Beans

```
GET /actuator/beans
```

- í˜„ì¬ ApplicationContext ë‚´ Bean ëª©ë¡ê³¼ ì˜ì¡´ì„± ì •ë³´ í™•ì¸.

------

#### Thread Dump

```
GET /actuator/threaddump
```

- JVM Thread ìƒíƒœ í™•ì¸ â†’ Deadlock, Blocked Thread ë¶„ì„ ì‹œ ìœ ìš©.

------

### 5ï¸âƒ£ ë³´ì•ˆ êµ¬ì„± âš ï¸

ìš´ì˜ í™˜ê²½ì—ì„œëŠ” ë°˜ë“œì‹œ Actuator Endpointì— **ì ‘ê·¼ ì œí•œ** í•„ìš”.

Spring Security êµ¬ì„± ì˜ˆì‹œ:

```
management:
  endpoints:
    web:
      exposure:
        include: health, info, prometheus
  endpoint:
    health:
      show-details: when-authorized
  security:
    enabled: true
```

ë˜ëŠ” Security Config ì—ì„œ:

```
@Override
protected void configure(HttpSecurity http) throws Exception {
    http
        .requestMatcher(EndpointRequest.to("health", "info"))
        .authorizeRequests((requests) -> requests.anyRequest().permitAll());
}
```

------

### 6ï¸âƒ£ Prometheus ì—°ê³„ (Metrics Export) ğŸ“Š

Prometheus scrape endpoint í™œì„±í™”:

```
management:
  endpoints:
    web:
      exposure:
        include: prometheus
```

í™œì„± í›„:

```
GET /actuator/prometheus
```

ğŸ‘‰ Prometheus + Grafana êµ¬ì„± ì‹œ â†’ **Spring Boot Metrics ì‹œê°í™” ê°€ëŠ¥**.

------

### 7ï¸âƒ£ í™•ì¥ êµ¬ì„± ğŸš€

#### Custom Health Indicator

```
@Component
public class CustomHealthIndicator implements HealthIndicator {

    @Override
    public Health health() {
        // Custom Health Logic
        return Health.up().withDetail("custom", "OK").build();
    }
}
```

#### Custom Info Contributor

```
@Component
public class CustomInfoContributor implements InfoContributor {

    @Override
    public void contribute(Info.Builder builder) {
        builder.withDetail("customInfo", "My Custom Value");
    }
}
```

------

### 8ï¸âƒ£ ê²°ë¡  ğŸ—‚ï¸

 âœ… Spring Boot ActuatorëŠ” **ìš´ì˜ ìƒíƒœ ê°€ì‹œì„± í™•ë³´**ì— ë§¤ìš° ì¤‘ìš”í•œ ë„êµ¬ë‹¤.
 âœ… ë‹¤ì–‘í•œ Endpoint ë¥¼ í†µí•´ **Health**, **Metrics**, **Thread ìƒíƒœ**, **Bean êµ¬ì„±** ë“±ì„ í™•ì¸ ê°€ëŠ¥.
 âœ… Prometheus ë“± ì™¸ë¶€ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œê³¼ ì—°ê³„ ì‹œ â†’ **ê°•ë ¥í•œ ì‹¤ì‹œê°„ ê´€ì°°(Observability) í”Œë«í¼ êµ¬ì„± ê°€ëŠ¥**.
 âœ… ìš´ì˜ í™˜ê²½ì—ì„œëŠ” ë°˜ë“œì‹œ **Endpoint ë…¸ì¶œ ì •ì±… ë° ë³´ì•ˆ ì„¤ì •**ì„ ì ìš©í•  ê²ƒ.

## í—¬ìŠ¤ì²´í¬, ë©”íŠ¸ë¦­, íŠ¸ë ˆì´ì‹±

**Observability(ê´€ì°° ê°€ëŠ¥ì„±)** ë¥¼ í™•ë³´í•˜ë ¤ë©´ ì„œë¹„ìŠ¤ì˜:

 âœ… **í—¬ìŠ¤ ìƒíƒœ í™•ì¸** (Health Check)
 âœ… **ìš´ì˜ ì§€í‘œ ìˆ˜ì§‘** (Metrics)
 âœ… **ë¶„ì‚° ì¶”ì /ì„±ëŠ¥ ë¶„ì„** (Tracing)

ì´ ì„¸ ê°€ì§€ ìš”ì†Œë¥¼ ì²´ê³„ì ìœ¼ë¡œ êµ¬ì„±í•˜ëŠ” ê²ƒì´ ë§¤ìš° ì¤‘ìš”í•˜ë‹¤.

Spring Bootì—ì„œëŠ” **Actuator** ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ê¸°ë³¸ ì§€ì› ê¸°ëŠ¥ì´ ì˜ ë§ˆë ¨ë˜ì–´ ìˆê³ , ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ **Prometheus + Grafana**, **Zipkin/Jaeger** ë“±ê³¼ ì‰½ê²Œ í†µí•©í•  ìˆ˜ ìˆë‹¤ ğŸš€.

------

### 1ï¸âƒ£ í—¬ìŠ¤ì²´í¬ (Health Check) ğŸ©º

#### ëª©ì 

- ì„œë¹„ìŠ¤ì˜ **ê°€ìš©ì„± í™•ì¸** (UP/DOWN ìƒíƒœ)
- LB(ë¡œë“œ ë°¸ëŸ°ì„œ), Kubernetes ë“±ì—ì„œ **ìë™ìœ¼ë¡œ ìƒíƒœ í™•ì¸ í›„ íŠ¸ë˜í”½ ì¡°ì ˆ**
- ì£¼ìš” ì™¸ë¶€ ì‹œìŠ¤í…œ(DB, MQ ë“±)ì˜ Health ìƒíƒœë„ í™•ì¸ ê°€ëŠ¥

#### ê¸°ë³¸ Endpoint

```
GET /actuator/health
```

ì‘ë‹µ ì˜ˆì‹œ:

```
{
  "status": "UP",
  "components": {
    "db": {
      "status": "UP",
      "details": {
        "database": "PostgreSQL",
        "validationQuery": "isValid()"
      }
    },
    "diskSpace": {
      "status": "UP",
      "details": {
        "total": 512000000000,
        "free": 128000000000,
        "threshold": 10485760
      }
    }
  }
}
```

#### ì»¤ìŠ¤í…€ Health Indicator

```
@Component
public class CustomHealthIndicator implements HealthIndicator {
    @Override
    public Health health() {
        // Custom logic here
        return Health.up().withDetail("custom", "OK").build();
    }
}
```

#### ì™¸ë¶€ì—ì„œ í™œìš©

- AWS ALB, Nginx â†’ **Health Check URL** ë¡œ `/actuator/health` ì‚¬ìš© ê°€ëŠ¥
- Kubernetes â†’ Readiness/Liveness Probeë¡œ í™œìš©

```
readinessProbe:
  httpGet:
    path: /actuator/health
    port: 8080
  initialDelaySeconds: 10
  periodSeconds: 5
```

------

### 2ï¸âƒ£ ë©”íŠ¸ë¦­ (Metrics) ğŸ“Š

#### ëª©ì 

- JVM, ì‹œìŠ¤í…œ ìì›, ì• í”Œë¦¬ì¼€ì´ì…˜ ì„±ëŠ¥ ì§€í‘œ ìˆ˜ì§‘
- DB ì»¤ë„¥ì…˜ í’€ ìƒíƒœ, GC ë™ì‘ ìƒíƒœ, HTTP ìš”ì²­ ì²˜ë¦¬ ì‹œê°„, ì—ëŸ¬ ë¹„ìœ¨ ë“± ëª¨ë‹ˆí„°ë§
- Prometheusì™€ ì—°ê³„í•˜ì—¬ **ì‹œê°í™” ëŒ€ì‹œë³´ë“œ êµ¬ì„± ê°€ëŠ¥** ğŸš€

#### ê¸°ë³¸ Endpoint

```
GET /actuator/metrics
```

ì „ì²´ í•­ëª© ëª©ë¡ í™•ì¸ ê°€ëŠ¥:

```
{
  "names": [
    "jvm.memory.used",
    "jvm.memory.max",
    "http.server.requests",
    "system.cpu.usage",
    "process.cpu.usage",
    "logback.events"
  ]
}
```

#### íŠ¹ì • ë©”íŠ¸ë¦­ ì¡°íšŒ

```
GET /actuator/metrics/http.server.requests
```

#### ì£¼ìš” ë©”íŠ¸ë¦­ í•­ëª© ì˜ˆì‹œ

| í•­ëª©                          | ì„¤ëª…                            |
| ----------------------------- | ------------------------------- |
| jvm.memory.used               | JVM Heap/Non-Heap Memory ì‚¬ìš©ëŸ‰ |
| jvm.gc.pause                  | GC(Pause) ì‹œê°„                  |
| process.cpu.usage             | í”„ë¡œì„¸ìŠ¤ CPU ì‚¬ìš©ë¥              |
| system.cpu.usage              | ì „ì²´ ì‹œìŠ¤í…œ CPU ì‚¬ìš©ë¥           |
| http.server.requests          | HTTP ìš”ì²­ ì²˜ë¦¬ ê´€ë ¨ ë©”íŠ¸ë¦­      |
| datasource.connections.active | DB Connection Pool ì‚¬ìš©ëŸ‰       |
| logback.events                | ë¡œê·¸ ì´ë²¤íŠ¸ ë°œìƒ ìˆ˜             |

#### Prometheus ì—°ê³„ (Metrics Export)

```
management:
  endpoints:
    web:
      exposure:
        include: prometheus
```

â†’ `/actuator/prometheus` endpoint ì œê³µ â†’ Prometheus scrape â†’ Grafana ì‹œê°í™” ê°€ëŠ¥.

------

### 3ï¸âƒ£ íŠ¸ë ˆì´ì‹± (Tracing) ğŸ§­

#### ëª©ì 

- **ë¶„ì‚° ì‹œìŠ¤í…œ í™˜ê²½**ì—ì„œ ê°œë³„ ìš”ì²­ íë¦„ì„ ì¶”ì 
- í•˜ë‚˜ì˜ ìš”ì²­ì´ ì—¬ëŸ¬ ì„œë¹„ìŠ¤ì— ê±¸ì³ ì²˜ë¦¬ë  ë•Œ **ì „ì²´ ê²½ë¡œ(Trace)ë¥¼ ì‹œê°í™”**
- Performance Bottleneck ë¶„ì„ ë° ë¬¸ì œ ì§„ë‹¨ì— ìœ ìš©

#### ê¸°ë³¸ ì›ë¦¬

```
HTTP ìš”ì²­ â†’ Trace ID ìƒì„±
    â†“
Trace IDê°€ ì„œë¹„ìŠ¤ ê°„ í˜¸ì¶œ ì‹œ Propagate ë¨
    â†“
ê° êµ¬ê°„ì˜ Span ê¸°ë¡ (ì‹œì‘/ì¢…ë£Œ ì‹œê°, ë©”íƒ€ë°ì´í„°)
    â†“
Collector(Zipkin, Jaeger ë“±)ë¡œ ì „ì†¡ â†’ Trace ì‹œê°í™”
```

#### êµ¬í˜„ ì˜ˆì‹œ (Spring Cloud Sleuth + Zipkin ì‚¬ìš©)

##### ì˜ì¡´ì„± ì¶”ê°€

```
implementation 'org.springframework.cloud:spring-cloud-starter-sleuth'
implementation 'org.springframework.cloud:spring-cloud-starter-zipkin'
```

##### application.yml ì˜ˆì‹œ

```
spring:
  zipkin:
    base-url: http://zipkin-server:9411
    sender:
      type: web
  sleuth:
    sampler:
      probability: 1.0  # 100% ìƒ˜í”Œë§ (ìš´ì˜ì—ì„œëŠ” ë³´í†µ ë‚®ì¶¤)
```

#### ê²°ê³¼

- ìš”ì²­ë§ˆë‹¤ ìë™ìœ¼ë¡œ Trace ID, Span ID ë¶€ì—¬
- ë¡œê·¸ ì¶œë ¥ ì‹œ ìë™ í¬í•¨:

```
[traceId=4bf92f3577b34da6a3ce929d0e0e4736, spanId=00f067aa0ba902b7]
```

- Zipkin UIì—ì„œ ì „ì²´ Trace íë¦„ í™•ì¸ ê°€ëŠ¥:

```
Client â†’ Gateway â†’ Service A â†’ Service B â†’ DB
```

#### ì£¼ìš” ì¥ì 

 âœ… ë³µì¡í•œ **ì„œë¹„ìŠ¤ ê°„ í˜¸ì¶œ íë¦„**ì„ ì§ê´€ì ìœ¼ë¡œ ë¶„ì„ ê°€ëŠ¥
 âœ… ì„±ëŠ¥ Bottleneck ì§€ì  íŒŒì•… ê°€ëŠ¥
 âœ… ì¥ì•  ì›ì¸ ë¶„ì„(ì „íŒŒ ê²½ë¡œ í™•ì¸)ì— ë§¤ìš° ìœ ìš©

------

### 4ï¸âƒ£ í†µí•© êµ¬ì„± Best Practice ğŸ

| ì˜ì—­         | ë„êµ¬                                                |
| ------------ | --------------------------------------------------- |
| Health Check | Spring Boot Actuator `/actuator/health`             |
| Metrics      | Actuator `/actuator/metrics` + Prometheus + Grafana |
| Tracing      | Spring Cloud Sleuth + Zipkin (or Jaeger)            |

------

### 5ï¸âƒ£ ê²°ë¡  ğŸ—‚ï¸

 âœ… **í—¬ìŠ¤ì²´í¬**ëŠ” LB, Kubernetes ë“±ê³¼ ì—°ê³„í•˜ì—¬ **ì„œë¹„ìŠ¤ ê°€ìš©ì„± í™•ë³´**ì— í™œìš©ëœë‹¤.
 âœ… **ë©”íŠ¸ë¦­**ì€ ìš´ì˜ ìƒíƒœ ëª¨ë‹ˆí„°ë§ ë° ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•´ í•„ìˆ˜ì ì´ë‹¤ â†’ Prometheus + Grafana ì—°ê³„ ì‹œ ë§¤ìš° íš¨ê³¼ì .
 âœ… **íŠ¸ë ˆì´ì‹±**ì€ ë³µì¡í•œ MSA í™˜ê²½ì—ì„œ **ìš”ì²­ íë¦„ ë¶„ì„, ì„±ëŠ¥ Bottleneck íŒŒì•…, ì¥ì•  ë¶„ì„**ì— ê°•ë ¥í•œ ë„êµ¬ë‹¤.

**Observability 3ëŒ€ ìš”ì†Œ(í—¬ìŠ¤ì²´í¬ + ë©”íŠ¸ë¦­ + íŠ¸ë ˆì´ì‹±)ë¥¼ ìœ ê¸°ì ìœ¼ë¡œ êµ¬ì„±í•˜ë©´ ìš´ì˜ ì•ˆì •ì„±ì„ í¬ê²Œ í–¥ìƒ**ì‹œí‚¬ ìˆ˜ ìˆë‹¤ ğŸš€.

## Prometheus + Grafana ì—°ë™

**Prometheus** ëŠ” ì‹œê³„ì—´(Time Series) ë°ì´í„° ìˆ˜ì§‘/ì €ì¥ ì‹œìŠ¤í…œì´ë©°,
 **Grafana** ëŠ” ë°ì´í„° ì‹œê°í™” ë„êµ¬ì´ë‹¤.
 ë‘˜ì„ ì—°ê³„í•˜ë©´ â†’ **Spring Boot ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ Metricsë¥¼ ì‹¤ì‹œê°„ ì‹œê°í™” ë° ëª¨ë‹ˆí„°ë§**í•  ìˆ˜ ìˆë‹¤ ğŸš€.

**Spring Boot + Actuator + Micrometer + Prometheus + Grafana** ì¡°í•©ì€ í˜„ì¬ **Observability ìŠ¤íƒì˜ í‘œì¤€**ìœ¼ë¡œ ë§ì´ ì‚¬ìš©ëœë‹¤.

------

### 1ï¸âƒ£ ì „ì²´ êµ¬ì„± íë¦„

```
Spring Boot (Actuator + Micrometer Prometheus Endpoint)
    â†“
/actuator/prometheus Endpoint ë…¸ì¶œ
    â†“
Prometheus â†’ Scrape ì£¼ê¸°ì ìœ¼ë¡œ Metrics ìˆ˜ì§‘
    â†“
Prometheus Time Series DB ì €ì¥
    â†“
Grafana â†’ Prometheus DataSource ì—°ë™ â†’ Dashboard êµ¬ì„±
```

------

### 2ï¸âƒ£ ê¸°ë³¸ êµ¬ì„± ì¤€ë¹„ë¬¼

 âœ… Spring Boot Actuator
 âœ… Micrometer (Spring Boot ê¸°ë³¸ ë‚´ì¥ë¨)
 âœ… Prometheus ì„¤ì¹˜
 âœ… Grafana ì„¤ì¹˜

------

### 3ï¸âƒ£ Spring Boot ì„¤ì • ğŸ› ï¸

#### ì˜ì¡´ì„± ì¶”ê°€ (Gradle ì˜ˆì‹œ)

```
implementation 'org.springframework.boot:spring-boot-starter-actuator'
implementation 'io.micrometer:micrometer-registry-prometheus'
```

#### application.yml ì„¤ì •

```
management:
  endpoints:
    web:
      exposure:
        include: health, info, prometheus
  metrics:
    tags:
      application: my-spring-boot-app
```

ğŸ‘‰ `prometheus` endpoint ë¥¼ ë…¸ì¶œí•´ì•¼ Prometheusê°€ scrape ê°€ëŠ¥.

#### í™•ì¸

```
curl http://localhost:8080/actuator/prometheus
```

ì¶œë ¥ ì˜ˆì‹œ:

```
# HELP jvm_memory_used_bytes Used bytes of a given JVM memory area.
# TYPE jvm_memory_used_bytes gauge
jvm_memory_used_bytes{area="heap",id="PS Eden Space",} 1.2345678E7
...
```

ğŸ‘‰ Prometheusê°€ ì´ endpoint ë¥¼ **ì£¼ê¸°ì ìœ¼ë¡œ ìˆ˜ì§‘**.

------

### 4ï¸âƒ£ Prometheus êµ¬ì„± ğŸ—‚ï¸

#### ì„¤ì¹˜ (Docker ì˜ˆì‹œ)

```
docker run -d -p 9090:9090 --name prometheus \
  -v /path/to/prometheus.yml:/etc/prometheus/prometheus.yml \
  prom/prometheus
```

#### prometheus.yml ì˜ˆì‹œ

```
global:
  scrape_interval: 15s  # 15ì´ˆë§ˆë‹¤ ìˆ˜ì§‘

scrape_configs:
  - job_name: 'spring-boot-app'
    metrics_path: '/actuator/prometheus'
    static_configs:
      - targets: ['host.docker.internal:8080']  # ë˜ëŠ” ì„œë²„ IP:PORT
```

ğŸ‘‰ `targets` ì— Spring Boot ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ `/actuator/prometheus` endpoint ë¥¼ ì„¤ì •.

#### Prometheus ì›¹ UI

```
http://localhost:9090
```

ì—¬ê¸°ì„œ **Targets** â†’ Spring Boot appì˜ endpoint ìƒíƒœ í™•ì¸ ê°€ëŠ¥
 **Graph íƒ­** â†’ ë©”íŠ¸ë¦­ ì¿¼ë¦¬ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥.

------

### 5ï¸âƒ£ Grafana êµ¬ì„± ğŸ¨

#### ì„¤ì¹˜ (Docker ì˜ˆì‹œ)

```
docker run -d -p 3000:3000 --name grafana grafana/grafana
```

#### ì´ˆê¸° ì ‘ì†

```
http://localhost:3000
```

- ê¸°ë³¸ ID/PW â†’ admin / admin (ì´ˆê¸° ë³€ê²½ ìš”êµ¬ë¨)

#### DataSource ì¶”ê°€

 1ï¸âƒ£ Configuration â†’ Data Sources â†’ Add data source
 2ï¸âƒ£ Prometheus ì„ íƒ
 3ï¸âƒ£ URL â†’ `http://host.docker.internal:9090` (Prometheus ì„œë²„ URL ì…ë ¥)
 4ï¸âƒ£ Save & Test â†’ ì—°ê²° í™•ì¸

------

#### Dashboard êµ¬ì„±

- GrafanaëŠ” **Prometheus DataSource ê¸°ë°˜ Dashboard í…œí”Œë¦¿** ì œê³µ
- Grafana.com ì—ì„œ **Spring Boot / JVM / Micrometer / Prometheus** ê´€ë ¨ Dashboard ID ê²€ìƒ‰ ê°€ëŠ¥

ì˜ˆì‹œ Dashboard:

- JVM Memory Usage
- HTTP Requests Per Second
- DB Connection Pool ìƒíƒœ
- CPU Usage
- GC Pause Time

#### Dashboard Import

 1ï¸âƒ£ + Create â†’ Import â†’ Dashboard ID ì…ë ¥ (ì˜ˆ: 4701, 6756 ë“±)
 2ï¸âƒ£ Prometheus DataSource ì„ íƒ â†’ Import ì™„ë£Œ ğŸš€

------

### 6ï¸âƒ£ ì •ë¦¬ êµ¬ì„± íë¦„ ğŸ—ºï¸

```
Spring Boot â†’ /actuator/prometheus â†’ Prometheus scrape â†’ Prometheus DB â†’ Grafana Dashboard ì‹œê°í™”
```

------

### 7ï¸âƒ£ ê²°ë¡ 

 âœ… Spring BootëŠ” **Micrometer + Prometheus Exporter** ë¥¼ í†µí•´ Metrics ìˆ˜ì§‘ì— ìµœì í™”ë˜ì–´ ìˆìŒ.
 âœ… Prometheus + Grafana ë¥¼ ì—°ê³„í•˜ë©´ ìš´ì˜ í™˜ê²½ì—ì„œ **ì‹œê³„ì—´ ëª¨ë‹ˆí„°ë§ ì²´ê³„ êµ¬ì¶•** ê°€ëŠ¥.
 âœ… JVM, HTTP ìš”ì²­ ì²˜ë¦¬ ì‹œê°„, DB ìƒíƒœ, GC ìƒíƒœ ë“± ë‹¤ì–‘í•œ ì§€í‘œë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸ ê°€ëŠ¥.
 âœ… êµ¬ì„±ë„ ë‹¨ìˆœ â†’ **DevOps / SRE íŒ€ì—ì„œ í‘œì¤€ì ì¸ Observability ìŠ¤íƒìœ¼ë¡œ ì‚¬ìš©**.

------

### 8ï¸âƒ£ ì¶”ê°€ Best Practice ğŸ

| ì˜ì—­              | ì „ëµ                                                         |
| ----------------- | ------------------------------------------------------------ |
| Scrap interval    | Critical ì„œë¹„ìŠ¤ëŠ” 5~15ì´ˆ ì¶”ì²œ                                |
| Label êµ¬ì„±        | metrics.tags.application ìœ¼ë¡œ App Tag êµ¬ì„± ê¶Œì¥              |
| Custom Metrics    | `@Timed`, `@Counted` ë“±ìœ¼ë¡œ ë¹„ì¦ˆë‹ˆìŠ¤ ë ˆì´ì–´ Metrics ì¶”ê°€ ê°€ëŠ¥ |
| Grafana Dashboard | Import í›„ â†’ **ìì²´ ì»¤ìŠ¤í„°ë§ˆì´ì§•** ì ê·¹ ê¶Œì¥                  |
| Alert êµ¬ì„±        | Grafana + Prometheus Alertmanager ì‚¬ìš© â†’ ì‹¤ì‹œê°„ ì•ŒëŒ ê°€ëŠ¥    |

## ELK Stack(Logstash, Kibana)

**LK Stack** ì€ ë¡œê·¸/ì´ë²¤íŠ¸ ë°ì´í„° ìˆ˜ì§‘ â†’ ì €ì¥ â†’ ë¶„ì„ â†’ ì‹œê°í™”ë¥¼ ìœ„í•œ **ì˜¤í”ˆì†ŒìŠ¤ Observability í”Œë«í¼**ì´ë‹¤.

| êµ¬ì„± ìš”ì†Œ         | ì—­í•                                                          |
| ----------------- | ------------------------------------------------------------ |
| **Elasticsearch** | ë¡œê·¸ ë°ì´í„° ì €ì¥ ë° ê²€ìƒ‰ (Distributed Search Engine)         |
| **Logstash**      | ë¡œê·¸ ë°ì´í„° ìˆ˜ì§‘ â†’ ë³€í™˜ â†’ Elasticsearchë¡œ ì „ì†¡ (Pipeline êµ¬ì„±) |
| **Kibana**        | ì‹œê°í™” ë° ë¶„ì„ UI ì œê³µ (Dashboard êµ¬ì„±)                      |

**Spring Boot ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸**ë¥¼ ELK Stackìœ¼ë¡œ ì—°ë™í•˜ë©´:

 âœ… ìš´ì˜ í™˜ê²½ ë¡œê·¸ ìˆ˜ì§‘ í‘œì¤€í™”
 âœ… ì‹¤ì‹œê°„ ê²€ìƒ‰ ë° ë¶„ì„ ê°€ëŠ¥
 âœ… ì¥ì•  ë°œìƒ ì‹œ **ë¡œê·¸ ê¸°ë°˜ ì›ì¸ ë¶„ì„(Forensics)** ê°€ëŠ¥ ğŸš€.

------

### 1ï¸âƒ£ ì „ì²´ êµ¬ì„± íë¦„

```
Spring Boot Application (Logback â†’ File / Syslog / TCP)
    â†“
Logstash â†’ ì…ë ¥(Input) â†’ ë³€í™˜(Filter) â†’ ì¶œë ¥(Output)
    â†“
Elasticsearch â†’ ë¡œê·¸ ì €ì¥ (Time Series Index ê¸°ë°˜)
    â†“
Kibana â†’ Dashboard êµ¬ì„± â†’ ì‹œê°í™” + ê²€ìƒ‰ + Alert êµ¬ì„±
```

------

### 2ï¸âƒ£ êµ¬ì„± ì¤€ë¹„

 âœ… Elasticsearch ì„¤ì¹˜
 âœ… Logstash ì„¤ì¹˜
 âœ… Kibana ì„¤ì¹˜
 âœ… Spring Boot Logging ì„¤ì • êµ¬ì„±

ğŸ‘‰ ë³´í†µ **Docker Compose ê¸°ë°˜ìœ¼ë¡œ ì „ì²´ Stack êµ¬ì„±** ë§ì´ ì‚¬ìš©.

------

### 3ï¸âƒ£ Docker Compose ì˜ˆì‹œ

```
version: '3.7'
services:

  elasticsearch:
    image: docker.elastic.co/elasticsearch/elasticsearch:8.9.0
    environment:
      - discovery.type=single-node
      - xpack.security.enabled=false
    ports:
      - 9200:9200

  logstash:
    image: docker.elastic.co/logstash/logstash:8.9.0
    ports:
      - 5044:5044   # Beats input
      - 5000:5000   # TCP input
    volumes:
      - ./logstash/pipeline:/usr/share/logstash/pipeline

  kibana:
    image: docker.elastic.co/kibana/kibana:8.9.0
    ports:
      - 5601:5601
    environment:
      - ELASTICSEARCH_HOSTS=http://elasticsearch:9200
```

------

### 4ï¸âƒ£ Logstash Pipeline êµ¬ì„±

#### Pipeline êµ¬ì„± ì˜ˆì‹œ

```
./logstash/pipeline/logstash.conf
```

```
input {
  tcp {
    port => 5000
    codec => json_lines
  }
}

filter {
  date {
    match => ["timestamp", "ISO8601"]
  }
}

output {
  elasticsearch {
    hosts => ["http://elasticsearch:9200"]
    index => "spring-boot-logs-%{+YYYY.MM.dd}"
  }
}
```

ğŸ‘‰ Logstash ê°€ **TCP 5000 í¬íŠ¸** ì—ì„œ JSON ë¡œê·¸ ìˆ˜ì‹  â†’ í•„í„° ì ìš© â†’ Elasticsearch ì €ì¥.

------

### 5ï¸âƒ£ Spring Boot Logging êµ¬ì„±

#### 1ï¸âƒ£ Logback â†’ File Appender â†’ Logstash FileBeat ë°©ì‹

(ì‹¤ë¬´ì—ì„œ ë§ì´ ì‚¬ìš© â†’ ì•ˆì •ì )

#### 2ï¸âƒ£ Logback â†’ Logstash TCP Appender

â†’ ì§ì ‘ Logstashë¡œ TCP ì „ì†¡ ê°€ëŠ¥ â†’ ì‹¤ì‹œê°„ ì²˜ë¦¬ ê°€ëŠ¥ ğŸš€.

##### build.gradle ì¶”ê°€

```
implementation 'net.logstash.logback:logstash-logback-encoder:7.2'
```

##### logback-spring.xml êµ¬ì„± ì˜ˆì‹œ

```
<configuration>
    <appender name="LOGSTASH" class="net.logstash.logback.appender.LogstashTcpSocketAppender">
        <destination>localhost:5000</destination>
        <encoder class="net.logstash.logback.encoder.LogstashEncoder" />
    </appender>

    <root level="INFO">
        <appender-ref ref="LOGSTASH" />
    </root>
</configuration>
```

ğŸ‘‰ ì´ë ‡ê²Œ êµ¬ì„±í•˜ë©´ ëª¨ë“  ë¡œê·¸ê°€ TCP(5000) ìœ¼ë¡œ Logstashë¡œ ì‹¤ì‹œê°„ ì „ì†¡ë¨.

------

### 6ï¸âƒ£ Kibana êµ¬ì„±

```
http://localhost:5601
```

#### ì²« êµ¬ì„± ì‹œ

 1ï¸âƒ£ Management â†’ Index Patterns â†’ `spring-boot-logs-*` ìƒì„±
 2ï¸âƒ£ Discover íƒ­ â†’ ì‹¤ì‹œê°„ ë¡œê·¸ ê²€ìƒ‰ ê°€ëŠ¥
 3ï¸âƒ£ Dashboard â†’ ë‹¤ì–‘í•œ Widget êµ¬ì„± ê°€ëŠ¥
 4ï¸âƒ£ Alerting ê¸°ëŠ¥ í™œìš© â†’ íŠ¹ì • Error ë°œìƒ ì‹œ ì•ŒëŒ ê°€ëŠ¥

------

### 7ï¸âƒ£ ì£¼ìš” í™œìš© ì˜ˆì‹œ

- ì‹¤ì‹œê°„ **Error ì¶”ì ** ë° í†µê³„ ë¶„ì„
- **Slow Query, OutOfMemory ë“± JVM ë¡œê·¸ ë¶„ì„**
- ì‚¬ìš©ì ìš”ì²­ ì¶”ì  â†’ User Journey ë¶„ì„
- Application KPI ëª¨ë‹ˆí„°ë§ â†’ ì„±ê³µ/ì‹¤íŒ¨ ë¹„ìœ¨ ëª¨ë‹ˆí„°ë§
- ìš´ì˜íŒ€ ì¥ì•  ëŒ€ì‘ ì†ë„ í–¥ìƒ ğŸš€

------

### 8ï¸âƒ£ Best Practice ğŸ

| ì˜ì—­             | ì „ëµ                                              |
| ---------------- | ------------------------------------------------- |
| Index Management | Index Lifecycle ì„¤ì • â†’ ì˜¤ë˜ëœ Index ìë™ ì‚­ì œ     |
| Log Format       | JSON ê¸°ë°˜ í†µì¼ â†’ Kibana í•„í„°ë§ ìš©ì´               |
| Security         | Production í™˜ê²½ì—ì„œëŠ” ë°˜ë“œì‹œ TLS ì ìš© + ì¸ì¦ ì ìš© |
| Resource Tuning  | Logstash JVM Heap, Elasticsearch JVM Heap ìµœì í™”  |
| Alert êµ¬ì„±       | Kibana Alert êµ¬ì„± â†’ Slack / Email ì•Œë¦¼ ì—°ê³„       |

------

### 9ï¸âƒ£ ê²°ë¡  ğŸ—‚ï¸

 âœ… **ELK Stack** ì€ Spring Boot ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìš´ì˜ ë¡œê·¸ë¥¼ ìˆ˜ì§‘/ì €ì¥/ë¶„ì„í•˜ëŠ” ë° ë§¤ìš° ê°•ë ¥í•œ ë„êµ¬ë‹¤.
 âœ… **Logstash TCP Appender êµ¬ì„±** â†’ ì‹¤ì‹œê°„ ë¡œê·¸ ìˆ˜ì§‘ ê°€ëŠ¥ â†’ ìš´ì˜ ì¥ì•  ë¶„ì„ì— ìœ ë¦¬.
 âœ… **Kibana ëŒ€ì‹œë³´ë“œ**ë¥¼ í†µí•´ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ë° Alert êµ¬ì„± ê°€ëŠ¥.
 âœ… ì‹œìŠ¤í…œ ê°€ì‹œì„±(Observability) í™•ë³´ì— í•„ìˆ˜ì ì¸ êµ¬ì„±ìœ¼ë¡œ ë§¤ìš° ì¶”ì²œ.

## Zipkin, Jaeger ê¸°ë°˜ ë¶„ì‚° íŠ¸ë ˆì´ì‹±

**ë¶„ì‚° íŠ¸ë ˆì´ì‹±(Distributed Tracing)** ì€ MSA í™˜ê²½ì—ì„œ í•„ìˆ˜ì ì¸ ê´€ì°°(Observability) ìš”ì†Œì´ë‹¤.
 í•˜ë‚˜ì˜ ì‚¬ìš©ì ìš”ì²­ì´ ì—¬ëŸ¬ ì„œë¹„ìŠ¤ì— ê±¸ì³ íë¥¼ ë•Œ:

 âœ… ì „ì²´ í˜¸ì¶œ ê²½ë¡œ(Trace)ë¥¼ ì‹œê°í™”
 âœ… ê° ì„œë¹„ìŠ¤ ê°„ ì‘ë‹µ ì‹œê°„ íŒŒì•…
 âœ… ë³‘ëª© êµ¬ê°„ ë° ì¥ì•  ë¶„ì„ ê°€ëŠ¥ ğŸš€

**Zipkin** ê³¼ **Jaeger** ëŠ” ëŒ€í‘œì ì¸ ì˜¤í”ˆì†ŒìŠ¤ ë¶„ì‚° íŠ¸ë ˆì´ì‹± ì‹œìŠ¤í…œì´ë‹¤.

| í•­ëª©        | Zipkin                     | Jaeger                                        |
| ----------- | -------------------------- | --------------------------------------------- |
| ê°œë°œ ì£¼ì²´   | Twitter (ì´ˆê¸°), OpenZipkin | CNCF (Cloud Native Computing Foundation)      |
| ì„¤ì¹˜ ìš©ì´ì„± | ë§¤ìš° ê°„ë‹¨                  | Kubernetes ì¹œí™”ì , ì—”í„°í”„ë¼ì´ì¦ˆê¸‰ ê¸°ëŠ¥ ìš°ìˆ˜   |
| UI ê¸°ëŠ¥     | ê¸°ë³¸ì                      | ê³ ê¸‰ (Trace Graph, Service Dependency ì‹œê°í™”) |
| ì‚¬ìš© ì‚¬ë¡€   | ê²½ëŸ‰ MSA, ë¹ ë¥¸ êµ¬ì„±        | ëŒ€ê·œëª¨ MSA, ê³ ê°€ìš©ì„± íŠ¸ë ˆì´ì‹± êµ¬ì„±            |

------

### 1ï¸âƒ£ ì „ì²´ êµ¬ì„± íë¦„

```
Client Request â†’ Gateway â†’ Service A â†’ Service B â†’ DB
    â†“
ê° ì„œë¹„ìŠ¤ì—ì„œ TraceID + SpanID ìë™ ì „íŒŒ
    â†“
Zipkin or Jaeger Collector â†’ Trace ë°ì´í„° ì €ì¥
    â†“
UI (Zipkin or Jaeger Web UI) â†’ Trace ì‹œê°í™”
```

ğŸ‘‰ Spring Bootì—ì„œëŠ” **Spring Cloud Sleuth** ë¥¼ í†µí•´ **ìë™ìœ¼ë¡œ Trace ì •ë³´ ê´€ë¦¬ ë° ì „íŒŒ** ê°€ëŠ¥.

------

### 2ï¸âƒ£ ê¸°ë³¸ êµ¬ì„±

#### ì˜ì¡´ì„± ì¶”ê°€ (Gradle)

##### Zipkin ì‚¬ìš© ì‹œ

```
implementation 'org.springframework.cloud:spring-cloud-starter-sleuth'
implementation 'org.springframework.cloud:spring-cloud-starter-zipkin'
```

##### Jaeger ì‚¬ìš© ì‹œ

```
implementation 'io.opentelemetry:opentelemetry-api:1.17.0'
implementation 'io.opentelemetry:opentelemetry-sdk:1.17.0'
implementation 'io.opentelemetry:opentelemetry-exporter-jaeger:1.17.0'
```

ğŸ‘‰ ìµœì‹  íŠ¸ë Œë“œëŠ” **OpenTelemetry ê¸°ë°˜ìœ¼ë¡œ Jaeger ì—°ë™**í•˜ëŠ” ê²½ìš°ê°€ ë§ìŒ.

------

### 3ï¸âƒ£ Spring Boot + Sleuth + Zipkin êµ¬ì„±

#### application.yml ì˜ˆì‹œ

```
spring:
  zipkin:
    base-url: http://zipkin-server:9411
    sender:
      type: web
  sleuth:
    sampler:
      probability: 1.0  # 100% ìƒ˜í”Œë§ (ìš´ì˜ì—ì„œëŠ” 0.1~0.3 ì¶”ì²œ)
```

ğŸ‘‰ `/actuator/trace` ëŠ” ë” ì´ìƒ ê¸°ë³¸ ì§€ì›ë˜ì§€ ì•ŠìŒ â†’ Zipkin UIë¡œ í™•ì¸.

#### Trace ìë™ ì „íŒŒ ì˜ˆì‹œ

- HTTP ìš”ì²­ ì‹œ Header ì— ìë™ìœ¼ë¡œ ë‹¤ìŒ ì •ë³´ í¬í•¨:

```
X-B3-TraceId: 4bf92f3577b34da6a3ce929d0e0e4736
X-B3-SpanId: 00f067aa0ba902b7
X-B3-Sampled: 1
```

ğŸ‘‰ Feign Client, RestTemplate, WebClient ì‚¬ìš© ì‹œ ìë™ìœ¼ë¡œ Header ì „íŒŒë¨.

------

### 4ï¸âƒ£ Zipkin êµ¬ì„±

#### Docker Compose ì˜ˆì‹œ

```
services:
  zipkin:
    image: openzipkin/zipkin
    ports:
      - 9411:9411
```

ğŸ‘‰ Web UI: `http://localhost:9411`
 â†’ Trace â†’ Service ì„ íƒ â†’ í˜¸ì¶œ ê²½ë¡œ ì‹œê°í™” ê°€ëŠ¥.

------

### 5ï¸âƒ£ Spring Boot + OpenTelemetry + Jaeger êµ¬ì„±

#### ìµœì‹  í‘œì¤€: **OpenTelemetry â†’ Jaeger Exporter êµ¬ì„±**

##### ì˜ì¡´ì„± ì¶”ê°€

```
implementation 'io.opentelemetry.instrumentation:opentelemetry-spring-boot-starter:1.17.0-alpha'
implementation 'io.opentelemetry:opentelemetry-exporter-jaeger:1.17.0'
```

##### application.yml ì˜ˆì‹œ

```
otel:
  traces:
    exporter: jaeger
  exporter:
    jaeger:
      endpoint: http://jaeger-collector:14250
```

ğŸ‘‰ ìµœì‹  OpenTelemetry ê¸°ë°˜ â†’ Zipkin/Jaeger ë‘˜ ë‹¤ Exporter êµ¬ì„± ê°€ëŠ¥ (í”ŒëŸ¬ê·¸ë¸” êµ¬ì¡°).

------

### 6ï¸âƒ£ Jaeger êµ¬ì„±

#### Docker Compose ì˜ˆì‹œ

```
services:
  jaeger:
    image: jaegertracing/all-in-one:1.41
    ports:
      - "16686:16686"  # UI
      - "14250:14250"  # OTLP gRPC
      - "6831:6831/udp"  # Jaeger Agent (UDP)
```

ğŸ‘‰ Web UI: `http://localhost:16686`
 â†’ Traces â†’ Service ì„ íƒ â†’ í˜¸ì¶œ ê²½ë¡œ, Span ë¶„ì„ ê°€ëŠ¥.

------

### 7ï¸âƒ£ Trace ì •ë³´ í™œìš© ì˜ˆì‹œ

```
Client â†’ Gateway â†’ Order Service â†’ Payment Service â†’ Notification Service
```

Zipkin or Jaeger ì—ì„œ:

 âœ… ì „ì²´ í˜¸ì¶œ ì‹œê°„ ë¶„ì„
 âœ… ê° êµ¬ê°„ ì²˜ë¦¬ ì‹œê°„ í™•ì¸ (Span ë‹¨ìœ„ë¡œ ì‹œê°í™”)
 âœ… ì˜¤ë¥˜ ë°œìƒ Span í™•ì¸
 âœ… TraceID ê¸°ë°˜ìœ¼ë¡œ **ë¡œê·¸/Trace ì—°ê³„ ì¡°íšŒ ê°€ëŠ¥** â†’ ìš´ì˜ ì¥ì•  ë¶„ì„ ë§¤ìš° ìœ ë¦¬.

------

### 8ï¸âƒ£ Best Practice

| ì˜ì—­                 | ì „ëµ                                                         |
| -------------------- | ------------------------------------------------------------ |
| Sampling Probability | ìš´ì˜ì—ì„œëŠ” 10~30% ìˆ˜ì¤€ìœ¼ë¡œ ì„¤ì • (1.0ì€ ì„±ëŠ¥ ë¶€í•˜ ì£¼ì˜)       |
| Trace Header ì „íŒŒ    | Feign / RestTemplate / WebClient ì „ë¶€ ì§€ì›                   |
| Trace Logging        | MDC ê¸°ë°˜ìœ¼ë¡œ ë¡œê·¸ì— TraceID ì¶”ê°€ â†’ `[%X{traceId}]`           |
| Storage              | Zipkin / Jaeger ëª¨ë‘ ES ì—°ë™ ê°€ëŠ¥ â†’ ì¥ê¸° ë³´ê´€ ì‹œ Elasticsearch í™œìš© |
| Trace ë¶„ì„           | ì¥ì•  ëŒ€ì‘, ì„±ëŠ¥ Bottleneck ë¶„ì„, ì„œë¹„ìŠ¤ Dependency ì‹œê°í™” í™œìš© |

------

### 9ï¸âƒ£ ê²°ë¡ 

 âœ… Zipkin / JaegerëŠ” Spring Boot MSA í™˜ê²½ì—ì„œ **ë¶„ì‚° íŠ¸ë ˆì´ì‹± í‘œì¤€ ë„êµ¬**ì´ë‹¤.
 âœ… **Spring Cloud Sleuth** ê¸°ë°˜ìœ¼ë¡œ ê°„í¸í•˜ê²Œ Zipkin ì—°ë™ ê°€ëŠ¥.
 âœ… ìµœì‹  íŠ¸ë Œë“œëŠ” **OpenTelemetry + Jaeger Exporter** êµ¬ì¡°ë¥¼ ë§ì´ ì‚¬ìš©í•œë‹¤.
 âœ… ë¶„ì‚° íŠ¸ë ˆì´ì‹± êµ¬ì¶• ì‹œ **ì„œë¹„ìŠ¤ í˜¸ì¶œ íë¦„ ì´í•´, ì¥ì•  ì›ì¸ ë¶„ì„, ì„±ëŠ¥ ìµœì í™”**ì— ë§¤ìš° ê°•ë ¥í•œ íš¨ê³¼.