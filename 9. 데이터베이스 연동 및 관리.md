# 9. ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™ ë° ê´€ë¦¬

## MySQL, PostgreSQL, Oracle ì—°ë™

Spring Bootì—ì„œ **MySQL**, **PostgreSQL**, **Oracle**ê³¼ ê°™ì€ **ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤(RDBMS)**ë¥¼ ì—°ë™í•˜ë ¤ë©´,
 ê° DBì— ë§ëŠ” **JDBC ë“œë¼ì´ë²„**, **Datasource ì„¤ì •**, **JPA/Hibernate ì„¤ì •**ì´ í•„ìš”í•©ë‹ˆë‹¤.
 ì•„ë˜ëŠ” ê° DBë³„ ì„¤ì • ì˜ˆì œì™€ ê³µí†µ êµ¬ì¡°ë¥¼ í•¨ê»˜ ì •ë¦¬í•œ **ì‹¤ë¬´ ì¤‘ì‹¬ ì—°ë™ ê°€ì´ë“œ**ì…ë‹ˆë‹¤.

------

### âœ… 1. ê³µí†µ ì„¤ì • êµ¬ì¡°

Spring Bootì—ì„œëŠ” `application.yml` ë˜ëŠ” `application.properties`ì— ë‹¤ìŒ í•­ëª©ë“¤ì„ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤:

| í•­ëª©                                  | ì„¤ëª…                                                         |
| ------------------------------------- | ------------------------------------------------------------ |
| `spring.datasource.url`               | JDBC ì ‘ì† URL                                                |
| `spring.datasource.username`          | DB ì‚¬ìš©ì ì´ë¦„                                               |
| `spring.datasource.password`          | ë¹„ë°€ë²ˆí˜¸                                                     |
| `spring.datasource.driver-class-name` | JDBC ë“œë¼ì´ë²„ í´ë˜ìŠ¤                                         |
| `spring.jpa.database-platform`        | Hibernate Dialect                                            |
| `spring.jpa.hibernate.ddl-auto`       | í…Œì´ë¸” ìë™ ìƒì„±/ê°±ì‹  ì˜µì…˜ (`none`, `validate`, `update`, `create`, `create-drop`) |

------

### âœ… 2. MySQL ì—°ë™

#### ğŸ“Œ Gradle ì˜ì¡´ì„±

```
implementation 'mysql:mysql-connector-java:8.0.33'
```

#### ğŸ“Œ application.yml

```
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/mydb?useSSL=false&serverTimezone=Asia/Seoul
    username: root
    password: root1234
    driver-class-name: com.mysql.cj.jdbc.Driver

  jpa:
    database-platform: org.hibernate.dialect.MySQL8Dialect
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate.format_sql: true
```

------

### âœ… 3. PostgreSQL ì—°ë™

#### ğŸ“Œ Gradle ì˜ì¡´ì„±

```
implementation 'org.postgresql:postgresql:42.6.0'
```

#### ğŸ“Œ application.yml

```
spring:
  datasource:
    url: jdbc:postgresql://localhost:5432/mydb
    username: postgres
    password: postgres1234
    driver-class-name: org.postgresql.Driver

  jpa:
    database-platform: org.hibernate.dialect.PostgreSQLDialect
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate.format_sql: true
```

------

### âœ… 4. Oracle ì—°ë™

> Oracle JDBC ë“œë¼ì´ë²„ëŠ” Maven Centralì— ë“±ë¡ë˜ì§€ ì•Šì•„ ë³´í†µ ìˆ˜ë™ ì„¤ì¹˜ ë˜ëŠ” Oracle Maven Repository ì‚¬ìš© í•„ìš”

#### ğŸ“Œ Gradle ì˜ì¡´ì„± (Oracle Maven ë“±ë¡ëœ ê²½ìš°)

```
implementation 'com.oracle.database.jdbc:ojdbc8:19.3.0.0'
```

#### ğŸ“Œ application.yml

```
spring:
  datasource:
    url: jdbc:oracle:thin:@localhost:1521:xe
    username: oracle_user
    password: oracle_pass
    driver-class-name: oracle.jdbc.OracleDriver

  jpa:
    database-platform: org.hibernate.dialect.Oracle12cDialect
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate.format_sql: true
```

------

### âœ… 5. Dialect ì„¤ì • ì°¸ê³ 

| DB         | Dialect                                   |
| ---------- | ----------------------------------------- |
| MySQL 8    | `org.hibernate.dialect.MySQL8Dialect`     |
| PostgreSQL | `org.hibernate.dialect.PostgreSQLDialect` |
| Oracle 12c | `org.hibernate.dialect.Oracle12cDialect`  |

> DialectëŠ” Hibernateê°€ DBë³„ SQL ë¬¸ë²• ì°¨ì´ë¥¼ ë§ì¶”ê¸° ìœ„í•´ ì‚¬ìš©

------

### âœ… 6. DataSource ì„¤ì • ì •ë¦¬í‘œ

| í•­ëª©    | MySQL                            | PostgreSQL                            | Oracle                                |
| ------- | -------------------------------- | ------------------------------------- | ------------------------------------- |
| Driver  | `com.mysql.cj.jdbc.Driver`       | `org.postgresql.Driver`               | `oracle.jdbc.OracleDriver`            |
| URL ì˜ˆ  | `jdbc:mysql://localhost:3306/db` | `jdbc:postgresql://localhost:5432/db` | `jdbc:oracle:thin:@localhost:1521:xe` |
| Dialect | `MySQL8Dialect`                  | `PostgreSQLDialect`                   | `Oracle12cDialect`                    |

------

### âœ… 7. ìœ ìš©í•œ ì„¤ì • ì¶”ê°€ (ê³µí†µ)

```
spring:
  jpa:
    open-in-view: false  # ê¶Œì¥: íŠ¸ëœì­ì…˜ ì™¸ ì§€ì—°ë¡œë”© ë°©ì§€
    defer-datasource-initialization: true  # SQL ì‹¤í–‰ ì‹œì  ì œì–´
    generate-ddl: true
  sql:
    init:
      mode: always  # data.sql ìë™ ì‹¤í–‰ ì—¬ë¶€
```

------

### âœ… 8. ë‹¤ì¤‘ DB ì—°ê²° (ë©€í‹° DataSource)

> ì‹¤ë¬´ì—ì„œëŠ” MySQL + Redis ë˜ëŠ” MySQL + Oracle ì¡°í•©ì²˜ëŸ¼
>  ì—¬ëŸ¬ DBë¥¼ ë™ì‹œì— ì‚¬ìš©í•˜ëŠ” ê²½ìš°ë„ ìˆìŒ â†’ `@Primary`, `@Qualifier`, `JpaTransactionManager`ë¡œ ë¶„ë¦¬ ê´€ë¦¬

------

### âœ… 9. í…ŒìŠ¤íŠ¸ í™˜ê²½: Testcontainers ì—°ë™

Testcontainersë¥¼ ì‚¬ìš©í•˜ë©´ ê° DB í™˜ê²½ì„ Dockerë¡œ ì‹¤í–‰í•´ì„œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥:

```
@Container
static MySQLContainer<?> mysql = new MySQLContainer<>("mysql:8.0")
    .withDatabaseName("test")
    .withUsername("test")
    .withPassword("test");
```

```
@DynamicPropertySource
static void setDatasource(DynamicPropertyRegistry registry) {
    registry.add("spring.datasource.url", mysql::getJdbcUrl);
    registry.add("spring.datasource.username", mysql::getUsername);
    registry.add("spring.datasource.password", mysql::getPassword);
}
```

------

### âœ… ê²°ë¡  ìš”ì•½

| í•­ëª©      | ì„¤ëª…                                                         |
| --------- | ------------------------------------------------------------ |
| ê³µí†µ ì„¤ì • | `spring.datasource.*`, `spring.jpa.*` ì¤‘ì‹¬                   |
| DBë³„ ì„¤ì • | JDBC URL, Driver, Dialect ì£¼ì˜                               |
| í…ŒìŠ¤íŠ¸    | `@DataJpaTest`, `Testcontainers`, `H2` ëŒ€ì²´ ë˜ëŠ” ì‹¤ì œ DB     |
| ì‹¤ë¬´ ê¶Œì¥ | `application.yml` â†’ Profileë¡œ ë¶„ë¦¬ (`application-dev.yml`, `application-test.yml`) |

## H2, SQLite ë“± ì¸ë©”ëª¨ë¦¬ DB í™œìš©

Spring Bootì—ì„œ **H2, SQLite**ì™€ ê°™ì€ **ì¸ë©”ëª¨ë¦¬(ë˜ëŠ” ê²½ëŸ‰í˜•) ë°ì´í„°ë² ì´ìŠ¤**ë¥¼ í™œìš©í•˜ë©´
 ì‹¤ì œ ìš´ì˜ìš© DB(MySQL, PostgreSQL, Oracle ë“±) ì—†ì´ë„ ë¹ ë¥´ê²Œ í…ŒìŠ¤íŠ¸ë‚˜ ê°œë°œ í™˜ê²½ì„ êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
 ì´ë“¤ì€ íŠ¹íˆ **ë‹¨ìœ„ í…ŒìŠ¤íŠ¸, ìŠ¬ë¼ì´ìŠ¤ í…ŒìŠ¤íŠ¸, ë¡œì»¬ ê°œë°œ í™˜ê²½, CI ìë™í™” í™˜ê²½**ì—ì„œ ë§¤ìš° ìœ ìš©í•©ë‹ˆë‹¤.

ì•„ë˜ì— ë‘ ê°€ì§€ ì¸ë©”ëª¨ë¦¬/ê²½ëŸ‰ DBì˜ íŠ¹ì„±ê³¼ ì„¤ì • ë°©ë²•ì„ ì‹¤ë¬´ ì¤‘ì‹¬ìœ¼ë¡œ ì •ë¦¬í•´ë“œë¦½ë‹ˆë‹¤.

------

### âœ… 1. H2 ë°ì´í„°ë² ì´ìŠ¤

#### ğŸ“Œ íŠ¹ì§•

| í•­ëª©       | ë‚´ìš©                                       |
| ---------- | ------------------------------------------ |
| ìš©ë„       | **ìˆœìˆ˜ ì¸ë©”ëª¨ë¦¬ ëª¨ë“œ** ë˜ëŠ” íŒŒì¼ ëª¨ë“œ ê°€ëŠ¥ |
| ì¥ì        | ê°€ë³ê³  ë¹ ë¥´ë©°, JPAì™€ ì˜ í†µí•©ë¨             |
| ì‹¤í–‰ ë°©ì‹  | ì›¹ ë¸Œë¼ìš°ì € ì½˜ì†” ì œê³µ (`/h2-console`)      |
| SQL í˜¸í™˜ì„± | MySQLê³¼ ìœ ì‚¬í•˜ì§€ë§Œ ì™„ì „ ë™ì¼í•˜ì§„ ì•ŠìŒ      |

------

#### ğŸ“Œ Gradle ì˜ì¡´ì„±

```
runtimeOnly 'com.h2database:h2'
```

------

#### ğŸ“Œ application.yml ì˜ˆì‹œ

```
spring:
  datasource:
    url: jdbc:h2:mem:testdb
    driver-class-name: org.h2.Driver
    username: sa
    password:
  h2:
    console:
      enabled: true
      path: /h2-console
  jpa:
    hibernate:
      ddl-auto: create-drop
    show-sql: true
    properties:
      hibernate.format_sql: true
```

> `jdbc:h2:mem:testdb`ëŠ” í…ŒìŠ¤íŠ¸ê°€ ëë‚˜ë©´ ë©”ëª¨ë¦¬ì—ì„œ ì‚¬ë¼ì§

------

#### ğŸ“Œ íŒŒì¼ ëª¨ë“œ (ë””ìŠ¤í¬ ì €ì¥í˜•)

```
spring.datasource.url: jdbc:h2:file:./data/testdb
```

> ë©”ëª¨ë¦¬ ëª¨ë“œë³´ë‹¤ ëŠë¦¬ì§€ë§Œ ì§€ì†ì„± ìˆìŒ

------

#### ğŸ“Œ H2 ì½˜ì†” ì ‘ì†

- ì£¼ì†Œ: `http://localhost:8080/h2-console`
- JDBC URL: `jdbc:h2:mem:testdb`
- ì‚¬ìš©ì: `sa`, ë¹„ë°€ë²ˆí˜¸ ì—†ìŒ

------

### âœ… 2. SQLite ë°ì´í„°ë² ì´ìŠ¤

#### ğŸ“Œ íŠ¹ì§•

| í•­ëª© | ë‚´ìš©                                                        |
| ---- | ----------------------------------------------------------- |
| ìš©ë„ | **ë‹¨ì¼ íŒŒì¼ ê¸°ë°˜** ê²½ëŸ‰ DB (ëª¨ë°”ì¼, ë°ìŠ¤í¬íƒ‘ ì•±ì—ì„œë„ ì‚¬ìš©) |
| ì¥ì  | ìš´ì˜ì²´ì œ ì˜ì¡´ ì—†ìŒ, ë¡œì»¬ í…ŒìŠ¤íŠ¸ì— ì í•©                      |
| ë‹¨ì  | JPA í†µí•© ì‹œ Dialect, ê¸°ëŠ¥ ì œí•œ ë“± ì„¤ì • ì£¼ì˜ í•„ìš”            |

------

#### ğŸ“Œ Gradle ì˜ì¡´ì„±

```
implementation 'org.xerial:sqlite-jdbc:3.43.2.2'
```

------

#### ğŸ“Œ application.yml ì˜ˆì‹œ

```
spring:
  datasource:
    url: jdbc:sqlite:db/test.sqlite
    driver-class-name: org.sqlite.JDBC
  jpa:
    database-platform: org.hibernate.community.dialect.SQLiteDialect
    hibernate:
      ddl-auto: update
    show-sql: true
```

> `SQLiteDialect`ëŠ” Hibernate 6 ì´ìƒ ë˜ëŠ” ë³„ë„ ì»¤ìŠ¤í…€ í•„ìš”

------

#### ğŸ“Œ ì»¤ìŠ¤í…€ Dialect ì˜ˆì‹œ (Hibernate 5.x ì´í•˜ì¼ ê²½ìš°)

SQLiteëŠ” ê³µì‹ Hibernate Dialectê°€ ì—†ì„ ìˆ˜ ìˆìŒ â†’ ì§ì ‘ êµ¬í˜„:

```
public class SQLiteDialect extends Dialect {
    public SQLiteDialect() {
        super();
        registerColumnType(Types.VARCHAR, "text");
        registerColumnType(Types.INTEGER, "integer");
        ...
    }
    @Override
    public boolean supportsIdentityColumns() {
        return true;
    }
}
```

```
spring.jpa.database-platform: com.example.db.SQLiteDialect
```

------

### âœ… 3. í…ŒìŠ¤íŠ¸ì—ì„œ í™œìš© (ì˜ˆ: `@DataJpaTest`)

```
@DataJpaTest
@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.ANY)
class RepositoryTest {
    ...
}
```

â†’ `H2` ë˜ëŠ” `application-test.yml`ì— ë”°ë¼ SQLite í™œìš© ê°€ëŠ¥

------

### âœ… 4. H2 vs SQLite ë¹„êµ

| í•­ëª©       | **H2**             | **SQLite**               |
| ---------- | ------------------ | ------------------------ |
| í˜•íƒœ       | ì¸ë©”ëª¨ë¦¬ or íŒŒì¼   | íŒŒì¼ ê¸°ë°˜                |
| ì†ë„       | ë§¤ìš° ë¹ ë¦„          | ë¹ ë¦„                     |
| SQL í˜¸í™˜ì„± | MySQL ìœ ì‚¬         | ë…ë¦½ì  SQL êµ¬ë¬¸          |
| í…ŒìŠ¤íŠ¸     | ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ìµœì    | ê²½ëŸ‰ ë‹¨ì¼ DB í…ŒìŠ¤íŠ¸ ì í•© |
| ì‚¬ìš© ì¶”ì²œ  | CI / í…ŒìŠ¤íŠ¸ ìë™í™” | ì„ë² ë””ë“œ í™˜ê²½, ë¡œì»¬ DB   |

------

### âœ… 5. ì‹¤ë¬´ í™œìš© ì „ëµ

| ëª©ì                              | ê¶Œì¥ DB                      |
| -------------------------------- | ---------------------------- |
| í…ŒìŠ¤íŠ¸ ìë™í™” (CI)               | `H2` ì¸ë©”ëª¨ë¦¬                |
| ë¡œì»¬ API ì„œë²„, ë°ëª¨              | `SQLite`                     |
| í…ŒìŠ¤íŠ¸ ìŠ¬ë¼ì´ìŠ¤ (`@DataJpaTest`) | ê¸°ë³¸ H2 (Spring ìë™ êµ¬ì„±ë¨) |
| TestContainers ë¶ˆê°€ í™˜ê²½         | SQLite ëŒ€ì•ˆ ê°€ëŠ¥             |

------

### âœ… ê²°ë¡  ìš”ì•½

| í•­ëª©   | ì„¤ëª…                                                         |
| ------ | ------------------------------------------------------------ |
| H2     | ì¸ë©”ëª¨ë¦¬ë¡œ ë¹ ë¥´ê³  í…ŒìŠ¤íŠ¸ì— ìµœì í™”ë¨. Springê³¼ ìì—°ìŠ¤ëŸ½ê²Œ í†µí•© |
| SQLite | íŒŒì¼ ê¸°ë°˜ ê²½ëŸ‰ DB. ê°„í¸í•œ ìš´ì˜/í…ŒìŠ¤íŠ¸ DBë¡œ í™œìš© ê°€ëŠ¥         |
| ê³µí†µì  | ë³„ë„ ì„¤ì¹˜ í•„ìš” ì—†ìŒ. í…ŒìŠ¤íŠ¸ ë˜ëŠ” ë¡œì»¬ìš©ìœ¼ë¡œ ìš°ìˆ˜             |
| ì°¨ì´ì  | H2ëŠ” ìë°”ì—ì„œ ê°œë°œë¨, SQLiteëŠ” C ê¸°ë°˜. SQL ë¬¸ë²• ì°¨ì´ ìˆìŒ    |
| ì£¼ì˜ì  | ìš´ì˜ìš© DB(MySQL ë“±)ê³¼ì˜ SQL ì°¨ì´ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ ì „ í…ŒìŠ¤íŠ¸ëŠ” ë³„ë„ í•„ìš” |

## íŠ¸ëœì­ì…˜ ì²˜ë¦¬ (`@Transactional`)

Spring Frameworkì˜ **`@Transactional`**ì€ ë°ì´í„°ë² ì´ìŠ¤ ì‘ì—…ì— ìˆì–´ì„œ **íŠ¸ëœì­ì…˜ì˜ ê²½ê³„ë¥¼ ì„ ì–¸ì ìœ¼ë¡œ ì§€ì •**í•˜ëŠ” í•µì‹¬ ê¸°ëŠ¥ì…ë‹ˆë‹¤.
 DB ì¼ê´€ì„±ê³¼ ë¬´ê²°ì„±ì„ ìœ ì§€í•˜ë©´ì„œë„, ì½”ë“œì˜ ê°„ê²°ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„±ì„ ë†’ì—¬ì£¼ëŠ” **ìŠ¤í”„ë§ ê¸°ë°˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ í•„ìˆ˜ ê°œë…**ì…ë‹ˆë‹¤.

------

### âœ… 1. íŠ¸ëœì­ì…˜ì´ë€?

> ì—¬ëŸ¬ DB ì‘ì—…ì„ **í•˜ë‚˜ì˜ ë…¼ë¦¬ì  ë‹¨ìœ„ë¡œ ë¬¶ì–´ ì¼ê´„ì ìœ¼ë¡œ ì²˜ë¦¬**í•˜ëŠ” ê¸°ë²•.
>  ì‘ì—… ì¤‘ í•˜ë‚˜ë¼ë„ ì‹¤íŒ¨í•˜ë©´ ì „ì²´ ì‘ì—…ì„ **ë¡¤ë°±(Rollback)**í•˜ì—¬ ë°ì´í„° ì¼ê´€ì„±ì„ ìœ ì§€í•œë‹¤.

------

### âœ… 2. `@Transactional`ì´ë€?

> ë©”ì„œë“œ ë˜ëŠ” í´ë˜ìŠ¤ì— ë¶™ì—¬, ê·¸ ë²”ìœ„ ë‚´ì˜ DB ì‘ì—…ì„ **íŠ¸ëœì­ì…˜ìœ¼ë¡œ ê°ì‹¸ê³ **,
>  **ì„±ê³µ ì‹œ ì»¤ë°‹, ì˜ˆì™¸ ë°œìƒ ì‹œ ë¡¤ë°±**ë˜ë„ë¡ í•˜ëŠ” ì„ ì–¸í˜• ì• ë…¸í…Œì´ì…˜ì´ë‹¤.

------

### âœ… 3. ì‚¬ìš© ì˜ˆì œ

```
@Service
public class MemberService {

    @Transactional
    public void registerMember(Member member) {
        memberRepository.save(member);
        welcomeEmailService.send(member); // ì˜ˆì™¸ ë°œìƒ ì‹œ ë¡¤ë°±
    }
}
```

- ìœ„ ë©”ì„œë“œëŠ” ë‘ ì‘ì—… ëª¨ë‘ ì„±ê³µí•´ì•¼ DBì— ë°˜ì˜ë¨.
- ì¤‘ê°„ì— `send()`ì—ì„œ ì˜ˆì™¸ê°€ ë°œìƒí•˜ë©´ `save()`ë„ ë¡¤ë°±ë¨.

------

### âœ… 4. ì• ë…¸í…Œì´ì…˜ ì‚¬ìš© ìœ„ì¹˜

| ìœ„ì¹˜   | ì˜ë¯¸                                           |
| ------ | ---------------------------------------------- |
| í´ë˜ìŠ¤ | ëª¨ë“  public ë©”ì„œë“œì— íŠ¸ëœì­ì…˜ ì ìš©             |
| ë©”ì„œë“œ | í•´ë‹¹ ë©”ì„œë“œì—ë§Œ íŠ¸ëœì­ì…˜ ì ìš© (ìš°ì„  ìˆœìœ„ ë†’ìŒ) |

------

### âœ… 5. ë¡¤ë°± ëŒ€ìƒ

ê¸°ë³¸ì ìœ¼ë¡œ **`RuntimeException`, `Error`**ê°€ ë°œìƒí•˜ë©´ ë¡¤ë°±ë¨.
 `Checked Exception`ì€ **ìë™ ë¡¤ë°±ë˜ì§€ ì•ŠìŒ**.

#### â—ì˜ˆì™¸ ì „ëµ ìš”ì•½

| ì˜ˆì™¸ íƒ€ì…         | ê¸°ë³¸ ì²˜ë¦¬ | ìˆ˜ë™ ì§€ì •                 |
| ----------------- | --------- | ------------------------- |
| RuntimeException  | ìë™ ë¡¤ë°± | -                         |
| Checked Exception | ì»¤ë°‹ë¨    | `rollbackFor =` ì˜µì…˜ í•„ìš” |

```
@Transactional(rollbackFor = IOException.class)
public void uploadFile() throws IOException {
    ...
}
```

------

### âœ… 6. ì£¼ìš” ì†ì„± ì •ë¦¬

```
@Transactional(
  propagation = Propagation.REQUIRED,
  isolation = Isolation.DEFAULT,
  readOnly = false,
  rollbackFor = Exception.class
)
```

| ì†ì„±          | ì„¤ëª…                                        |
| ------------- | ------------------------------------------- |
| `propagation` | ì „íŒŒ ë°©ì‹ (ê¸°ì¡´ íŠ¸ëœì­ì…˜ê³¼ ì–´ë–»ê²Œ ê²°í•©í• ì§€) |
| `isolation`   | íŠ¸ëœì­ì…˜ ê²©ë¦¬ ìˆ˜ì¤€ (READ_COMMITTED ë“±)      |
| `readOnly`    | ì½ê¸° ì „ìš© ì—¬ë¶€ (ì¿¼ë¦¬ ìµœì í™”)                |
| `rollbackFor` | ë¡¤ë°±í•  ì˜ˆì™¸ ì§€ì •                            |

------

### âœ… 7. ì „íŒŒ ìˆ˜ì¤€ (`propagation`)

| ì˜µì…˜            | ì„¤ëª…                                                |
| --------------- | --------------------------------------------------- |
| `REQUIRED`      | ê¸°ë³¸ê°’. íŠ¸ëœì­ì…˜ì´ ìˆìœ¼ë©´ ì°¸ì—¬, ì—†ìœ¼ë©´ ìƒˆë¡œ ì‹œì‘    |
| `REQUIRES_NEW`  | í•­ìƒ ìƒˆë¡œìš´ íŠ¸ëœì­ì…˜ ì‹œì‘ (ê¸°ì¡´ ì¤‘ë‹¨ë¨)             |
| `NESTED`        | ê¸°ì¡´ íŠ¸ëœì­ì…˜ ë‚´ì—ì„œ ì¤‘ì²© íŠ¸ëœì­ì…˜ (Savepoint ì‚¬ìš©) |
| `MANDATORY`     | ë°˜ë“œì‹œ ê¸°ì¡´ íŠ¸ëœì­ì…˜ì´ ìˆì–´ì•¼ í•¨                    |
| `NEVER`         | íŠ¸ëœì­ì…˜ ìˆìœ¼ë©´ ì˜ˆì™¸                                |
| `SUPPORTS`      | íŠ¸ëœì­ì…˜ ìˆìœ¼ë©´ ì°¸ì—¬, ì—†ìœ¼ë©´ ë¹„íŠ¸ëœì­ì…˜             |
| `NOT_SUPPORTED` | íŠ¸ëœì­ì…˜ì„ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ (ì¤‘ë‹¨ í›„ ì‹¤í–‰)             |

------

### âœ… 8. ê²©ë¦¬ ìˆ˜ì¤€ (`isolation`)

| ìˆ˜ì¤€               | ì„¤ëª…                                     |
| ------------------ | ---------------------------------------- |
| `DEFAULT`          | DB ì„¤ì • ë”°ë¦„                             |
| `READ_UNCOMMITTED` | ì»¤ë°‹ë˜ì§€ ì•Šì€ ë°ì´í„°ë„ ì½ìŒ (dirty read) |
| `READ_COMMITTED`   | ì»¤ë°‹ëœ ë°ì´í„°ë§Œ ì½ìŒ (Oracle ê¸°ë³¸)       |
| `REPEATABLE_READ`  | ê°™ì€ ì¿¼ë¦¬ ë°˜ë³µ ì‹œ ê°™ì€ ê²°ê³¼ ë³´ì¥         |
| `SERIALIZABLE`     | ê°€ì¥ ì—„ê²©, ë™ì‹œì„± ë‚®ìŒ (í…Œì´ë¸” ë½ ìˆ˜ì¤€)  |

------

### âœ… 9. readOnly = true

- íŠ¸ëœì­ì…˜ì€ ì‹œì‘í•˜ì§€ë§Œ **ì“°ê¸° ì‘ì—… ê¸ˆì§€**
- íŠ¹ì • DB (Oracle ë“±)ì—ì„œëŠ” **ì¿¼ë¦¬ ìµœì í™” íŒíŠ¸ë¡œ ì‘ë™**
- ì£¼ë¡œ ì¡°íšŒ ì „ìš© ì„œë¹„ìŠ¤ì—ì„œ ì‚¬ìš©

```
@Transactional(readOnly = true)
public List<Member> getMembers() {
    return memberRepository.findAll();
}
```

------

### âœ… 10. í…ŒìŠ¤íŠ¸ì—ì„œ ì‚¬ìš© ì‹œ

```
@SpringBootTest
@Transactional
class ServiceIntegrationTest {
    // ê° í…ŒìŠ¤íŠ¸ ë©”ì„œë“œ ì¢…ë£Œ ì‹œ ìë™ ë¡¤ë°±
}
```

------

### âœ… 11. ë‚´ë¶€ í˜¸ì¶œ ì£¼ì˜ (í”„ë¡ì‹œ ë¬¸ì œ)

```
@Transactional
public void methodA() {
    methodB(); // âŒ ê°™ì€ í´ë˜ìŠ¤ì˜ ë‚´ë¶€ í˜¸ì¶œ â†’ íŠ¸ëœì­ì…˜ ì ìš© ì•ˆ ë¨
}

@Transactional
public void methodB() { ... }
```

> í•´ê²°: ë©”ì„œë“œë¥¼ ì™¸ë¶€ ì»´í¬ë„ŒíŠ¸ë¡œ ë¶„ë¦¬í•˜ê±°ë‚˜ AOP Proxyë¡œ í˜¸ì¶œë˜ë„ë¡ êµ¬ì¡° ì¡°ì • í•„ìš”

------

### âœ… 12. ê²°ë¡  ìš”ì•½

| í•­ëª©             | ì„¤ëª…                                                         |
| ---------------- | ------------------------------------------------------------ |
| `@Transactional` | DB ì‘ì—…ì„ í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ ë‹¨ìœ„ë¡œ ë¬¶ìŒ                        |
| ê¸°ë³¸ ë¡¤ë°± ëŒ€ìƒ   | `RuntimeException`, `Error`                                  |
| Checked ì˜ˆì™¸     | `rollbackFor` ëª…ì‹œ í•„ìš”                                      |
| readOnly         | ì¡°íšŒ ìµœì í™” ì‹œ ì‚¬ìš©                                          |
| ì‹¤ë¬´ ì „ëµ        | Service ê³„ì¸µ ì¤‘ì‹¬ìœ¼ë¡œ ì„ ì–¸, í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì—ì„œëŠ” ìë™ ë¡¤ë°± í™œìš© |

## ì»¤ë„¥ì…˜ í’€(HikariCP) ì„¤ì •

Spring Boot 2 ì´ìƒì—ì„œëŠ” **ê¸°ë³¸ ì»¤ë„¥ì…˜ í’€(Connection Pool)**ë¡œ `HikariCP`ê°€ ìë™ìœ¼ë¡œ ì„¤ì •ë©ë‹ˆë‹¤.
 HikariCPëŠ” **ê°€ë³ê³  ë¹ ë¥´ë©°, ì•ˆì •ì ì¸ JDBC ì»¤ë„¥ì…˜ í’€ êµ¬í˜„ì²´**ë¡œ
 ëŒ€ë¶€ë¶„ì˜ Spring Boot ì‹¤ë¬´ í”„ë¡œì íŠ¸ì—ì„œ í‘œì¤€ìœ¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.

ì•„ë˜ëŠ” **HikariCPì˜ ê°œë…, ê¸°ë³¸ ì‘ë™ ì›ë¦¬, ì„¤ì • í•­ëª©, ì„±ëŠ¥ íŠœë‹ ì „ëµ**ì„ ëª¨ë‘ í¬í•¨í•œ ì‹¤ë¬´ ì¤‘ì‹¬ ê°€ì´ë“œì…ë‹ˆë‹¤.

------

### âœ… 1. ì»¤ë„¥ì…˜ í’€ì´ë€?

> JDBC ì»¤ë„¥ì…˜ì€ ìƒì„±/ì†Œë©¸ì— ë†’ì€ ë¹„ìš©ì´ ë“œëŠ” ìì›ì´ë¯€ë¡œ,
>  ì»¤ë„¥ì…˜ì„ **ë¯¸ë¦¬ ìƒì„±í•˜ì—¬ í’€(Pool)ë¡œ ë³´ê´€**í•˜ê³  ì¬ì‚¬ìš©í•˜ëŠ” ê¸°ìˆ .

| ëª©ì         | ì„¤ëª…                                      |
| ----------- | ----------------------------------------- |
| ì„±ëŠ¥ ê°œì„    | ì»¤ë„¥ì…˜ ì¬ì‚¬ìš©ìœ¼ë¡œ ìƒì„±/ì¢…ë£Œ ì˜¤ë²„í—¤ë“œ ì œê±° |
| ìì› ì ˆì•½   | ë™ì‹œ ì ‘ì† ìˆ˜ ì œì–´ë¡œ DB ë¶€í•˜ ê°ì†Œ          |
| ì•ˆì •ì„± í–¥ìƒ | ì»¤ë„¥ì…˜ ìœ ì‹¤, ëˆ„ìˆ˜, ê³¼ë‹¤ ì ‘ì† ë°©ì§€         |

------

### âœ… 2. HikariCPë€?

| í•­ëª©                  | ì„¤ëª…                                                        |
| --------------------- | ----------------------------------------------------------- |
| êµ¬í˜„ì²´                | Javaë¡œ ì‘ì„±ëœ ì´ˆê²½ëŸ‰ ì»¤ë„¥ì…˜ í’€                              |
| Spring Boot ê¸°ë³¸ ì±„íƒ | Spring Boot 2.x+ì˜ ê¸°ë³¸ `DataSource`                        |
| ì¥ì                   | ë¹ ë¦„, ë©”ëª¨ë¦¬ íš¨ìœ¨ì , JMX ì§€ì›, ìë™ íšŒë³µ                    |
| ëŒ€ì²´ í›„ë³´             | Apache DBCP2, Tomcat JDBC Pool ë“± (í˜„ì¬ëŠ” ê±°ì˜ Hikari ì‚¬ìš©) |

------

### âœ… 3. ì˜ì¡´ì„±

```
implementation 'com.zaxxer:HikariCP:5.1.0' // Spring Boot ì‚¬ìš© ì‹œ ìƒëµ ê°€ëŠ¥
```

------

### âœ… 4. application.yml ì„¤ì • ì˜ˆì‹œ

```
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/mydb
    username: user
    password: pass
    driver-class-name: com.mysql.cj.jdbc.Driver
    hikari:
      pool-name: MyHikariPool
      maximum-pool-size: 20
      minimum-idle: 5
      idle-timeout: 600000       # 10ë¶„
      max-lifetime: 1800000      # 30ë¶„
      connection-timeout: 30000  # ì»¤ë„¥ì…˜ ìš”ì²­ ìµœëŒ€ ëŒ€ê¸° ì‹œê°„
      validation-timeout: 5000
      connection-test-query: SELECT 1
```

------

### âœ… 5. ì£¼ìš” ì„¤ì • ì˜µì…˜ ì„¤ëª…

| í•­ëª©                    | ê¸°ë³¸ê°’      | ì„¤ëª…                                                     |
| ----------------------- | ----------- | -------------------------------------------------------- |
| `maximum-pool-size`     | 10          | í’€ì—ì„œ ë™ì‹œì— í—ˆìš©í•  ìµœëŒ€ ì»¤ë„¥ì…˜ ìˆ˜                      |
| `minimum-idle`          | same as max | ìµœì†Œ ëŒ€ê¸° ì»¤ë„¥ì…˜ ìˆ˜                                      |
| `idle-timeout`          | 600000ms    | ìœ íœ´ ì»¤ë„¥ì…˜ì´ íšŒìˆ˜ë˜ëŠ” ì‹œê°„                              |
| `max-lifetime`          | 1800000ms   | ì»¤ë„¥ì…˜ì˜ ìµœëŒ€ ìˆ˜ëª… (DBê°€ ì¢…ë£Œ ì „ ì¢…ë£Œ ë°©ì§€)              |
| `connection-timeout`    | 30000ms     | ì»¤ë„¥ì…˜ ìš”ì²­ ëŒ€ê¸° ìµœëŒ€ ì‹œê°„                               |
| `validation-timeout`    | 5000ms      | ì»¤ë„¥ì…˜ ìœ íš¨ì„± ê²€ì‚¬ ìµœëŒ€ ì‹œê°„                             |
| `connection-test-query` | DBë³„ë¡œ ë‹¤ë¦„ | ì»¤ë„¥ì…˜ ìƒíƒœ í™•ì¸ ì¿¼ë¦¬ (HikariëŠ” `isValid()`ë¡œ ëŒ€ì²´ ê°€ëŠ¥) |

------

### âœ… 6. JMX, ë©”íŠ¸ë¦­ ì—°ë™

Spring Actuatorë¥¼ í•¨ê»˜ ì‚¬ìš©í•  ê²½ìš° HikariCPì˜ **í’€ ìƒíƒœ ëª¨ë‹ˆí„°ë§ ê°€ëŠ¥**:

```
implementation 'org.springframework.boot:spring-boot-starter-actuator'
```

```
management:
  endpoints:
    web:
      exposure:
        include: health, metrics
```

ì ‘ì† ì˜ˆ:

```
/actuator/metrics/hikaricp.connections.active
/actuator/metrics/hikaricp.connections.max
```

------

### âœ… 7. ì‹¤ì‹œê°„ í’€ ìƒíƒœ í™•ì¸ (Actuator)

```
GET /actuator/metrics/hikaricp.connections.active
```

```
{
  "name": "hikaricp.connections.active",
  "measurements": [{"statistic": "VALUE", "value": 2}],
  "availableTags": [...]
}
```

------

### âœ… 8. ì»¤ìŠ¤í…€ HikariConfig ì‚¬ìš© (Java ê¸°ë°˜)

```
@Bean
@ConfigurationProperties("spring.datasource.hikari")
public HikariDataSource dataSource() {
    return DataSourceBuilder.create()
        .type(HikariDataSource.class)
        .build();
}
```

ë˜ëŠ”

```
@Bean
public DataSource customHikari() {
    HikariConfig config = new HikariConfig();
    config.setJdbcUrl("jdbc:mysql://localhost:3306/mydb");
    config.setUsername("user");
    config.setPassword("pass");
    config.setMaximumPoolSize(20);
    return new HikariDataSource(config);
}
```

------

### âœ… 9. ì£¼ì˜ì‚¬í•­

| í•­ëª©                               | ê¶Œì¥/ì£¼ì˜                                          |
| ---------------------------------- | -------------------------------------------------- |
| `max-lifetime` < DB ì»¤ë„¥ì…˜ timeout | ë°˜ë“œì‹œ ì¡°ì • í•„ìš” (DB ì»¤ë„¥ì…˜ë³´ë‹¤ ì§§ê²Œ)              |
| JDBC Driver ìë™ ë“±ë¡ í™•ì¸         | ì¼ë¶€ DBì—ì„œ ë“œë¼ì´ë²„ ì„¤ì • ëˆ„ë½ ì£¼ì˜                |
| Spring Boot 2 ì´ìƒ                 | ìë™ìœ¼ë¡œ Hikari ì‚¬ìš©ë¨ (ë”°ë¡œ ì„¤ì •í•˜ì§€ ì•Šì•„ë„ ì ìš©) |

------

### âœ… 10. ê²°ë¡  ìš”ì•½

| í•­ëª©           | ì„¤ëª…                                                         |
| -------------- | ------------------------------------------------------------ |
| ê¸°ë³¸ ì»¤ë„¥ì…˜ í’€ | Spring Boot 2+ì—ì„œëŠ” **HikariCP**                            |
| ì„¤ì • ìœ„ì¹˜      | `spring.datasource.hikari.*`                                 |
| í•µì‹¬ ì„¤ì •      | `maximum-pool-size`, `idle-timeout`, `connection-timeout` ë“± |
| ì‹¤ë¬´ íŒ        | JMX ëª¨ë‹ˆí„°ë§, `actuator` ì—°ë™ìœ¼ë¡œ ìƒíƒœ í™•ì¸ ê¶Œì¥             |
| ì¥ì            | ë¹ ë¥´ê³  ì•ˆì •ì ì¸ ì»¤ë„¥ì…˜ í’€, í…ŒìŠ¤íŠ¸ì—ì„œë„ ê·¸ëŒ€ë¡œ í™œìš© ê°€ëŠ¥     |

## Flyway / Liquibaseë¡œ DB ë§ˆì´ê·¸ë ˆì´ì…˜ ê´€ë¦¬

Spring Bootì—ì„œ **DB ë§ˆì´ê·¸ë ˆì´ì…˜(ìŠ¤í‚¤ë§ˆ ë²„ì „ ê´€ë¦¬)**ì„ ì•ˆì „í•˜ê³  ì²´ê³„ì ìœ¼ë¡œ ìˆ˜í–‰í•˜ë ¤ë©´
 **Flyway** ë˜ëŠ” **Liquibase**ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì‹¤ë¬´ í‘œì¤€ì…ë‹ˆë‹¤.
 ì´ ë‘ ë„êµ¬ëŠ” **ë²„ì „ ê¸°ë°˜ì˜ SQL ë³€ê²½ ì´ë ¥ì„ ì½”ë“œë¡œ ê´€ë¦¬**í•˜ë©°,
 DBë¥¼ ìˆ˜ë™ ìˆ˜ì •í•˜ì§€ ì•Šê³ ë„ ì¼ê´€ëœ ìŠ¤í‚¤ë§ˆ ë³€ê²½ ë° ë°°í¬ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤.

------

### âœ… 1. Flyway vs Liquibase ê°„ë‹¨ ë¹„êµ

| í•­ëª©        | Flyway                           | Liquibase                                |
| ----------- | -------------------------------- | ---------------------------------------- |
| ì–¸ì–´ ì§€ì›   | SQL ìœ„ì£¼ (Javaë„ ê°€ëŠ¥)           | SQL + XML + YAML + JSON                  |
| í•™ìŠµ ë‚œì´ë„ | ì‰½ê³  ê°„ë‹¨                        | ìœ ì—°í•˜ë‚˜ ì•½ê°„ ë³µì¡                       |
| í†µí•©ì„±      | Spring Bootì™€ ë§¤ìš° ê°•ë ¥í•˜ê²Œ í†µí•© | Spring Bootì™€ ê³µì‹ ì—°ë™ ì§€ì›             |
| ì‹¤ë¬´ í™œìš©   | ë‹¨ìˆœ ë§ˆì´ê·¸ë ˆì´ì…˜ì— ê°•í•¨         | ëŒ€ê·œëª¨ íŒ€, ì¡°ê±´ ë¶„ê¸° ìˆëŠ” DB ì‘ì—…ì— ì í•© |

------

### âœ… 2. Flyway ì„¤ì •

#### ğŸ“Œ Gradle ì˜ì¡´ì„±

```
implementation 'org.flywaydb:flyway-core'
```

> Spring Boot 3.1+ì—ì„œëŠ” ìë™ìœ¼ë¡œ ì¸ì‹ë˜ë©°, **ì˜ì¡´ì„±ë§Œ ì¶”ê°€í•˜ë©´ ì‘ë™**

------

#### ğŸ“Œ ê¸°ë³¸ êµ¬ì¡°

- **ë””í´íŠ¸ ê²½ë¡œ**: `src/main/resources/db/migration`
- **íŒŒì¼ëª… ê·œì¹™**: `V<ë²„ì „>__<ì„¤ëª…>.sql`

```
V1__create_member_table.sql
V2__add_column_email.sql
```

------

#### ğŸ“Œ application.yml ì„¤ì •

```
spring:
  flyway:
    enabled: true
    locations: classpath:db/migration
    baseline-on-migrate: true
    validate-on-migrate: true
    out-of-order: false
```

------

#### ğŸ“Œ ì˜ˆì‹œ SQL

```
-- V1__create_member_table.sql
CREATE TABLE member (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  name VARCHAR(100),
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

------

#### ğŸ“Œ ì‹¤í–‰ ì‹œì 

- **ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘ ì‹œì ì— ìë™ ì‹¤í–‰ë¨**
- DBì— `flyway_schema_history` í…Œì´ë¸”ì´ ìƒì„±ë˜ì–´ **ì ìš© ì´ë ¥ ê´€ë¦¬**

------

### âœ… 3. Liquibase ì„¤ì •

#### ğŸ“Œ Gradle ì˜ì¡´ì„±

```
implementation 'org.liquibase:liquibase-core'
```

------

#### ğŸ“Œ application.yml ì„¤ì •

```
spring:
  liquibase:
    change-log: classpath:db/changelog/db.changelog-master.yaml
    enabled: true
```

------

#### ğŸ“Œ ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼ êµ¬ì¡° (YAML ì˜ˆì‹œ)

```
databaseChangeLog:
  - changeSet:
      id: 1
      author: kim
      changes:
        - createTable:
            tableName: member
            columns:
              - column:
                  name: id
                  type: BIGINT
                  autoIncrement: true
                  constraints:
                    primaryKey: true
              - column:
                  name: name
                  type: VARCHAR(100)
              - column:
                  name: created_at
                  type: timestamp
                  defaultValueComputed: CURRENT_TIMESTAMP
```

------

#### ğŸ“Œ íŒŒì¼ëª… êµ¬ì¡°

- ì¤‘ì•™ ì§„ì… íŒŒì¼: `db.changelog-master.yaml`
- ë‹¤ë¥¸ íŒŒì¼ì„ importí•˜ê±°ë‚˜ ì—¬ëŸ¬ ë²„ì „ìœ¼ë¡œ ë¶„í•  ê°€ëŠ¥

------

#### ğŸ“Œ ì‹¤í–‰ ì‹œì 

- **ì• í”Œë¦¬ì¼€ì´ì…˜ ë¶€íŠ¸ ì‹œì ì— ìë™ ì‹¤í–‰**
- LiquibaseëŠ” `DATABASECHANGELOG` í…Œì´ë¸”ì„ ì‚¬ìš©í•˜ì—¬ ì´ë ¥ ê´€ë¦¬

------

### âœ… 4. ê³µí†µ ê¸°ëŠ¥ ë¹„êµ

| ê¸°ëŠ¥                   | Flyway                         | Liquibase     |
| ---------------------- | ------------------------------ | ------------- |
| ìë™ ë²„ì „ ì¶”ì          | âœ…                              | âœ…             |
| Rollback               | âŒ (ì§€ì› ì•ˆ í•¨, ìˆ˜ë™ ì‘ì„± í•„ìš”) | âœ… (ëª…ì‹œ ê°€ëŠ¥) |
| SQL + Java Script ì§€ì› | âœ…                              | âœ…             |
| YAML, XML ì§€ì›         | âŒ                              | âœ…             |
| CLI ì§€ì›               | âœ…                              | âœ…             |
| DB íƒ€ì… ìë™ ê°ì§€      | âœ…                              | âœ…             |
| Spring Boot ìë™ í†µí•©  | âœ…                              | âœ…             |

------

### âœ… 5. ì‹¤ë¬´ í™œìš© ì „ëµ

| ì „ëµ                | ì„¤ëª…                                             |
| ------------------- | ------------------------------------------------ |
| ê°œë°œ ì´ˆë°˜           | Flyway + SQL ê¸°ë°˜ìœ¼ë¡œ ê°„ë‹¨íˆ ì‹œì‘                |
| ë³µì¡í•œ ë§ˆì´ê·¸ë ˆì´ì…˜ | Liquibaseë¡œ ë¡¤ë°±, ë¶„ê¸° ì²˜ë¦¬ ë“± ìœ ì—°í•˜ê²Œ ê´€ë¦¬     |
| íŒ€ í˜‘ì—…             | Gitì— ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼ ë²„ì „ ê´€ë¦¬ í•„ìˆ˜           |
| CI/CD í™˜ê²½          | ì‹œì‘ ì‹œ ìë™ ë°˜ì˜ or `migrateOnly=true` ì„¤ì •     |
| H2 í…ŒìŠ¤íŠ¸           | í…ŒìŠ¤íŠ¸ ì‹œì—ë„ ë™ì¼í•˜ê²Œ ì ìš©ë˜ë„ë¡ ì„¤ì • ìœ ì§€ í•„ìš” |

------

### âœ… 6. Spring Boot ìë™ ì‹¤í–‰ ë™ì‘ ìš”ì•½

| í•­ëª©            | Flyway                         | Liquibase                                         |
| --------------- | ------------------------------ | ------------------------------------------------- |
| ê¸°ë³¸ ê²½ë¡œ       | `classpath:db/migration`       | `classpath:db/changelog/db.changelog-master.yaml` |
| íˆìŠ¤í† ë¦¬ í…Œì´ë¸” | `flyway_schema_history`        | `DATABASECHANGELOG`                               |
| ì ìš© ì‹œì        | `SpringApplication.run()` ì§ì „ |                                                   |

------

### âœ… ê²°ë¡  ìš”ì•½

| í•­ëª©      | ì„¤ëª…                                                         |
| --------- | ------------------------------------------------------------ |
| Flyway    | ë‹¨ìˆœí•˜ê³  ë¹ ë¥´ê²Œ ë§ˆì´ê·¸ë ˆì´ì…˜ ìˆ˜í–‰. SQL ê¸°ë°˜ì— ìµœì            |
| Liquibase | XML/YAML ê¸°ë°˜, ë¡¤ë°±, ì¡°ê±´ ë¶„ê¸° ë“± ìœ ì—°í•œ ê¸°ëŠ¥ ì§€ì›           |
| ê³µí†µ      | DB ìŠ¤í‚¤ë§ˆ ë²„ì „ì„ ì½”ë“œë¡œ ì•ˆì „í•˜ê²Œ ê´€ë¦¬ ê°€ëŠ¥                   |
| ì‹¤ë¬´ íŒ   | Gitì—ì„œ `V1`, `V2` ë“±ìœ¼ë¡œ ë²„ì „ ê´€ë¦¬í•˜ê³ , **ëª¨ë“  ë°°í¬ ì‹œì ì— ìë™ ì ìš©**ë˜ë„ë¡ ì„¤ì • |

